<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../../21-implement-cicd/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Instructions - MS Fabric Labs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-20-work-with-sql-database-in-microsoft-fabric" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MS Fabric Labs" class="md-header__button md-logo" aria-label="MS Fabric Labs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MS Fabric Labs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instructions
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MS Fabric Labs" class="md-nav__button md-logo" aria-label="MS Fabric Labs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"></path></svg>

    </a>
    MS Fabric Labs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Microsoft Fabric
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Microsoft Fabric
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../01-lakehouse/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    01 Lakehouse
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            01 Lakehouse
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-lakehouse/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../03b-medallion-lakehouse/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    3b Medallion Architecture
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            3b Medallion Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03b-medallion-lakehouse/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../04-ingest-pipeline/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    04 Ingest Pipeline
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            04 Ingest Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-ingest-pipeline/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../05-dataflows-gen2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    05 Dataflows (Gen2)
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            05 Dataflows (Gen2)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-dataflows-gen2/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../06-data-warehouse/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    06 Analyse data in a data warehouse
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            06 Analyse data in a data warehouse
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-data-warehouse/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../06c-monitor-data-warehouse/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    06c Monitor Data Warehouse
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            06c Monitor Data Warehouse
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06c-monitor-data-warehouse/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../09-real-time-analytics-eventstream/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    09 Real-time Eventstream
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            09 Real-time Eventstream
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09-real-time-analytics-eventstream/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../11-data-activator/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    11 Data Activator
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            11 Data Activator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../11-data-activator/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../18-monitor-hub/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    18 Monitor Hub
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            18 Monitor Hub
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../18-monitor-hub/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../19-secure-data-access/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    19 Secure Data Access
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            19 Secure Data Access
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../19-secure-data-access/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    20 Work with SQL Database
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            20 Work with SQL Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-access-microsoft-fabric" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Access Microsoft Fabric
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-create-a-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create a workspace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-create-a-sql-database-with-sample-data" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Create a SQL database with sample data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-query-a-sql-database" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Query a SQL database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-integrate-data-with-external-data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Integrate data with external data sources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-secure-data" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Secure data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-up-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Clean up resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../21-implement-cicd/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    21 Deployment Pipelines
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            21 Deployment Pipelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../21-implement-cicd/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab-20-work-with-sql-database-in-microsoft-fabric">Lab 20 ~ Work with SQL Database in Microsoft Fabric</h1>
<div class="admonition info">
<p class="admonition-title">For this lab, you will access the QA Platform and sign in using the credentials provided.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">You must use an incognito or private browser window to avoid conflicts with any work or personal Microsoft accounts you may already be signed in to.</p>
</div>
<h2 id="step-1-access-microsoft-fabric">Step 1: Access Microsoft Fabric</h2>
<p>In this lab, you will access Microsoft Fabric using a temporary lab account provided by the QA Platform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The QA Platform opens the Azure portal by default. This is expected. Microsoft Fabric is a separate portal, even though it uses the same Microsoft account.</p>
</div>
<ol>
<li>
<p>In the QA Platform, wait until the lab status shows <strong>Ready</strong>.</p>
</li>
<li>
<p>Then right-click <strong>Open</strong> and choose <strong>Open in a private browsing window</strong> (InPrivate in Edge, Incognito in Chrome).</p>
</li>
<li>
<p>When prompted, sign in using:</p>
<ul>
<li><strong>Username</strong> from the QA Platform (used as the email address)</li>
<li>
<p><strong>Password</strong> from the QA Platform (used as a Temporary Access Pass)</p>
</li>
<li>
<p>If prompted to "Stay signed in?", select <strong>No</strong>. This ensures the session ends when the private window is closed.</p>
</li>
</ul>
<div class="admonition success">
<p class="admonition-title">You are now signed in to the <strong>Azure portal</strong>. This confirms your lab account is active.</p>
</div>
</li>
<li>
<p>In the same private browsing window, <strong>open a new tab</strong>.</p>
</li>
<li>
<p>Navigate to the <a href="https://app.fabric.microsoft.com">Microsoft Fabric home page</a> at: <a href="https://app.fabric.microsoft.com">https://app.fabric.microsoft.com</a></p>
</li>
<li>
<p>If prompted, <strong>re-enter your email address</strong> to confirm access to Microsoft Fabric. This check verifies that a Fabric licence has been assigned to your lab account.</p>
</li>
<li>
<p>After confirmation, you should be be redirected to the <strong>Microsoft Fabric home page</strong>:</p>
<div class="admonition quote">
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/qa-fabric-home.png" data-desc-position="bottom"><img alt="Fabric home page" src="../../img/qa-fabric-home.png"></a></p>
</div>
</li>
</ol>
<h2 id="step-2-create-a-workspace">Step 2: Create a workspace</h2>
<p>Before working with data in Fabric, you need to create a workspace.</p>
<ol>
<li>
<p>In the left-hand navigation, select <strong>Workspaces</strong> (the icon looks similar to ðŸ—‡).</p>
</li>
<li>
<p>Select <strong>+ New workspace</strong>, then create a workspace using the naming format below:</p>
<ul>
<li>Start the name with <code>fab_workspace</code></li>
<li>Add random numbers to make it unique (for example, <code>fab_workspace123</code>)</li>
<li>Leave all other options as the default values</li>
<li>Click <strong>Apply</strong></li>
</ul>
</li>
<li>
<p>When your new workspace opens, it should be empty:</p>
<div class="admonition quote">
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/new-workspace.png" data-desc-position="bottom"><img alt="Empty workspace in Fabric." src="../../img/new-workspace.png"></a></p>
</div>
</li>
</ol>
<h2 id="step-3-create-a-sql-database-with-sample-data">Step 3: Create a SQL database with sample data</h2>
<p>Now that you have a workspace, it's time to create a SQL database.</p>
<ol>
<li>
<p>On the menu bar on the left, select <strong>Create</strong>. In the <em>New</em> page, under the <em>Databases</em> section, select <strong>SQL database</strong>.</p>
<div class="admonition tip">
<p class="admonition-title">If the <strong>Create</strong> option is not pinned to the sidebar, you need to select the ellipsis (â€¦) option first.</p>
</div>
</li>
<li>
<p>Enter <strong>AdventureWorksLT</strong> as the database name, and select <strong>Create</strong>.</p>
</li>
<li>
<p>Once you have created your database, you can load sample data into your database from <strong>Sample data</strong> card.</p>
<p>After a minute or so, your database will be populated with sample data for your scenario.</p>
<div class="admonition quote">
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../img/20-sql-database-sample.png" data-desc-position="bottom"><img alt="Screenshot of a new database loaded with sample data." src="../../img/20-sql-database-sample.png"></a></p>
</div>
</li>
</ol>
<h2 id="step-4-query-a-sql-database">Step 4: Query a SQL database</h2>
<p>The SQL query editor provides support for IntelliSense, code completion, syntax highlighting, client-side parsing, and validation. You can run Data Definition Language (DDL), Data Manipulation Language (DML) and Data Control Language (DCL) statements.</p>
<ol>
<li>
<p>In the <strong>AdventureWorksLT</strong> database page, navigate to <strong>Home</strong>, and select <strong>New query</strong>.</p>
</li>
<li>
<p>In the new blank query pane, enter and  <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5.14v14l11-7z"></path></svg></span> <strong>run</strong> the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ProductName</span><span class="p">,</span>
<span class="w">    </span><span class="n">pc</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CategoryName</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="n">ListPrice</span>
<span class="k">FROM</span><span class="w"> </span>
<span class="w">    </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Product</span><span class="w"> </span><span class="n">p</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">    </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">ProductCategory</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">ProductCategoryID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pc</span><span class="p">.</span><span class="n">ProductCategoryID</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="n">p</span><span class="p">.</span><span class="n">ListPrice</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</code></pre></div>
<p>This query joins the <code>Product</code> and <code>ProductCategory</code> tables to display the product names, their categories, and their list prices, sorted by price in descending order.</p>
</li>
<li>
<p>In a new query editor, enter and <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5.14v14l11-7z"></path></svg></span> <strong>run</strong> the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="k">c</span><span class="p">.</span><span class="n">FirstName</span><span class="p">,</span>
<span class="w">    </span><span class="k">c</span><span class="p">.</span><span class="n">LastName</span><span class="p">,</span>
<span class="w">    </span><span class="n">soh</span><span class="p">.</span><span class="n">OrderDate</span><span class="p">,</span>
<span class="w">    </span><span class="n">soh</span><span class="p">.</span><span class="n">SubTotal</span>
<span class="k">FROM</span><span class="w"> </span>
<span class="w">    </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Customer</span><span class="w"> </span><span class="k">c</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">    </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">SalesOrderHeader</span><span class="w"> </span><span class="n">soh</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">CustomerID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">CustomerID</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="w">    </span><span class="n">soh</span><span class="p">.</span><span class="n">OrderDate</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</code></pre></div>
<p>This query retrieves a list of customers along with their order dates and subtotals, sorted by the order date in descending order. </p>
</li>
<li>
<p>Close all query tabs.</p>
</li>
</ol>
<h2 id="step-5-integrate-data-with-external-data-sources">Step 5: Integrate data with external data sources</h2>
<p>You will integrate an external data about public holidays with sales order. Then, you'll  identify sales orders that coincide with public holidays, providing insights into how holidays might impact sales activities.</p>
<ol>
<li>
<p>Navigate to <strong>Home</strong>, and select <strong>New query</strong>.</p>
</li>
<li>
<p>In the new blank query pane, enter and <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5.14v14l11-7z"></path></svg></span> <strong>run</strong> the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">PublicHolidays</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">CountryOrRegion</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="n">HolidayName</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
<span class="w">    </span><span class="nb">Date</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="n">IsPaidTimeOff</span><span class="w"> </span><span class="nb">BIT</span>
<span class="p">);</span>
</code></pre></div>
<p>This query creates the <code>SalesLT.PublicHolidays</code> table in preparation to the next step.</p>
</li>
<li>
<p>In a new query editor, enter and <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5.14v14l11-7z"></path></svg></span> <strong>run</strong> the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">PublicHolidays</span><span class="w"> </span><span class="p">(</span><span class="n">CountryOrRegion</span><span class="p">,</span><span class="w"> </span><span class="n">HolidayName</span><span class="p">,</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="n">IsPaidTimeOff</span><span class="p">)</span>
<span class="k">VALUES</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'Canada'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Victoria Day'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-02-19'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'United Kingdom'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Christmas Day'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-12-25'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'United Kingdom'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Spring Bank Holiday'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-05-27'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'United States'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Thanksgiving Day'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-11-28'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</code></pre></div>
<p>In this example, this query inserts holidays for Canada, the United Kingdom, and the United States for the year 2024 into the <code>SalesLT.PublicHolidays</code> table.    </p>
</li>
<li>
<p>In a new or existing query editor, enter and execute the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- Insert new addresses into SalesLT.Address</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="p">(</span><span class="n">AddressLine1</span><span class="p">,</span><span class="w"> </span><span class="n">City</span><span class="p">,</span><span class="w"> </span><span class="n">StateProvince</span><span class="p">,</span><span class="w"> </span><span class="n">CountryRegion</span><span class="p">,</span><span class="w"> </span><span class="n">PostalCode</span><span class="p">,</span><span class="w"> </span><span class="n">rowguid</span><span class="p">,</span><span class="w"> </span><span class="n">ModifiedDate</span><span class="p">)</span>
<span class="k">VALUES</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'123 Main St'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Seattle'</span><span class="p">,</span><span class="w"> </span><span class="s1">'WA'</span><span class="p">,</span><span class="w"> </span><span class="s1">'United States'</span><span class="p">,</span><span class="w"> </span><span class="s1">'98101'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'456 Maple Ave'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Toronto'</span><span class="p">,</span><span class="w"> </span><span class="s1">'ON'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Canada'</span><span class="p">,</span><span class="w"> </span><span class="s1">'M5H 2N2'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">'789 Oak St'</span><span class="p">,</span><span class="w"> </span><span class="s1">'London'</span><span class="p">,</span><span class="w"> </span><span class="s1">'England'</span><span class="p">,</span><span class="w"> </span><span class="s1">'United Kingdom'</span><span class="p">,</span><span class="w"> </span><span class="s1">'EC1A 1BB'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">());</span>

<span class="c1">-- Insert new orders into SalesOrderHeader</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">SalesOrderHeader</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">SalesOrderID</span><span class="p">,</span><span class="w"> </span><span class="n">RevisionNumber</span><span class="p">,</span><span class="w"> </span><span class="n">OrderDate</span><span class="p">,</span><span class="w"> </span><span class="n">DueDate</span><span class="p">,</span><span class="w"> </span><span class="n">ShipDate</span><span class="p">,</span><span class="w"> </span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">OnlineOrderFlag</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">PurchaseOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">AccountNumber</span><span class="p">,</span><span class="w"> </span><span class="n">CustomerID</span><span class="p">,</span><span class="w"> </span><span class="n">ShipToAddressID</span><span class="p">,</span><span class="w"> </span><span class="n">BillToAddressID</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">ShipMethod</span><span class="p">,</span><span class="w"> </span><span class="n">CreditCardApprovalCode</span><span class="p">,</span><span class="w"> </span><span class="n">SubTotal</span><span class="p">,</span><span class="w"> </span><span class="n">TaxAmt</span><span class="p">,</span><span class="w"> </span><span class="n">Freight</span><span class="p">,</span><span class="w"> </span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">rowguid</span><span class="p">,</span><span class="w"> </span><span class="n">ModifiedDate</span>
<span class="p">)</span>
<span class="k">VALUES</span>
<span class="w">    </span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-12-25'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-12-30'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-12-26'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'PO12345'</span><span class="p">,</span><span class="w"> </span><span class="s1">'AN123'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'789 Oak St'</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'123 Main St'</span><span class="p">),</span><span class="w"> </span><span class="s1">'Ground'</span><span class="p">,</span><span class="w"> </span><span class="s1">'12345'</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Order 1'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">    </span><span class="p">(</span><span class="mi">1002</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-11-28'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-12-03'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-11-29'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'PO67890'</span><span class="p">,</span><span class="w"> </span><span class="s1">'AN456'</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'123 Main St'</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'456 Maple Ave'</span><span class="p">),</span><span class="w"> </span><span class="s1">'Air'</span><span class="p">,</span><span class="w"> </span><span class="s1">'67890'</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Order 2'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">    </span><span class="p">(</span><span class="mi">1003</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-02-19'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-02-24'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-02-20'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'PO54321'</span><span class="p">,</span><span class="w"> </span><span class="s1">'AN789'</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'456 Maple Ave'</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'789 Oak St'</span><span class="p">),</span><span class="w"> </span><span class="s1">'Sea'</span><span class="p">,</span><span class="w"> </span><span class="s1">'54321'</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Order 3'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">    </span><span class="p">(</span><span class="mi">1004</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-05-27'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-06-01'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-05-28'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'PO98765'</span><span class="p">,</span><span class="w"> </span><span class="s1">'AN321'</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'789 Oak St'</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">AddressID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">AddressLine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'789 Oak St'</span><span class="p">),</span><span class="w"> </span><span class="s1">'Ground'</span><span class="p">,</span><span class="w"> </span><span class="s1">'98765'</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="s1">'New Order 4'</span><span class="p">,</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">());</span>
</code></pre></div>
<p>This code adds new addresses and orders to the database, simulating fictitious orders from different countries.</p>
</li>
<li>
<p>In a new or existing query editor, enter and execute the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">SalesOrderID</span><span class="p">,</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">OrderDate</span><span class="p">,</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="n">HolidayName</span><span class="p">,</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="n">CountryOrRegion</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">SalesOrderHeader</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">soh</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">AddressID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">ShipToAddressID</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">PublicHolidays</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ph</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">OrderDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="nb">Date</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">CountryRegion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="n">CountryOrRegion</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Take a moment to observe the results</p>
<ul>
<li>Note how the query identifies sales orders that coincide with public holidays in the respective countries.</li>
<li>This can provide valuable insights into order patterns and potential impacts of holidays on sales activities.</li>
</ul>
</div>
</li>
<li>
<p>Close all query tabs.</p>
</li>
</ol>
<h2 id="step-6-secure-data">Step 6: Secure data</h2>
<p>Suppose a specific group of users should only have access to data from the United States to generate reports.</p>
<p>Let's create a view based on the query we used earlier, and add a filter to it.</p>
<ol>
<li>
<p>In the new blank query pane, enter and <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5.14v14l11-7z"></path></svg></span> <strong>run</strong> the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">vw_SalesOrderHoliday</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">SalesOrderID</span><span class="p">,</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">OrderDate</span><span class="p">,</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="n">HolidayName</span><span class="p">,</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="n">CountryOrRegion</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">SalesOrderHeader</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">soh</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">Address</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">AddressID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">ShipToAddressID</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">PublicHolidays</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ph</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">soh</span><span class="p">.</span><span class="n">OrderDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="nb">Date</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">CountryRegion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ph</span><span class="p">.</span><span class="n">CountryOrRegion</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">CountryRegion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'United Kingdom'</span><span class="p">;</span>
</code></pre></div>
</li>
<li>
<p>In a new or existing query editor, enter and execute the following T-SQL code.</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- Create the role</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="n">SalesOrderRole</span><span class="p">;</span>

<span class="c1">-- Grant select permission on the view to the role</span>
<span class="k">GRANT</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">SalesLT</span><span class="p">.</span><span class="n">vw_SalesOrderHoliday</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">SalesOrderRole</span><span class="p">;</span>
</code></pre></div>
<p>Any user added as a member to the <code>SalesOrderRole</code> role will have access only to the filtered view. If a user in this role attempts to access any other user objects, they will receive an error message similar to this:</p>
<div class="highlight"><pre><span></span><code>Msg 229, Level 14, State 5, Line 1
The SELECT permission was denied on the object 'ObjectName', database 'DatabaseName', schema 'SchemaName'.
</code></pre></div>
</li>
</ol>
<div class="admonition sucess">
<p class="admonition-title">In this exercise, you have created, queried, and secured data in a SQL database in Microsoft Fabric.</p>
</div>
<hr>
<h2 id="clean-up-resources">Clean up resources</h2>
<p>If you've finished exploring your database, you should delete the workspace you created for this exercise.</p>
<ol>
<li>
<p>Navigate to Microsoft Fabric in your browser.</p>
</li>
<li>
<p>In the bar on the left, select the icon for your workspace to view all of the items it contains.</p>
</li>
<li>
<p>Select <strong>Workspace settings</strong> and in the <strong>General</strong> section, scroll down and select <strong>Remove this workspace</strong>.</p>
</li>
<li>
<p>Select <strong>Delete</strong> to delete the workspace.</p>
</li>
</ol>
<hr>
<p><small><b>Source:
<a href="https://microsoftlearning.github.io/mslearn-fabric/Instructions/Labs/20-work-with-database.html">https://microsoftlearning.github.io/mslearn-fabric/Instructions/Labs/20-work-with-database.html</a>
</b></small></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["toc.integrate", "content.code.copy", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>